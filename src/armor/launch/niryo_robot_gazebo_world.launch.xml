<?xml version="1.0" ?>
<launch xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="https://gist.githubusercontent.com/nalt/dfa2abc9d2e3ae4feb82ca5608090387/raw/roslaunch.xsd">
    <!-- Arguments -->
    <arg name="use_sim_time" default="true"/>
    <arg name="gui" default="true"/>
    <arg name="headless" default="false"/>
    <arg name="debug" default="false"/>
    <arg name="clutter" default="false"/>
    <arg name="stacked" default="false"/>
    <arg name="occluded" default="false"/>
    <arg name="diffObjects" default="false"/>

    <!-- Logic to handle world selection based on clutter, cluster, and occluded parameters -->

    <!-- Case 1: Default world when all arguments are false -->
    <include file="$(find gazebo_ros)/launch/empty_world.launch" if="$(eval not arg('clutter') and not arg('stacked') and not arg('occluded') and not arg('diffObjects'))">
        <arg name="world_name" value="$(find armor)/worlds/custom_lit.world"/>
        <arg name="debug" value="$(arg debug)"/>
        <arg name="gui" value="$(arg gui)"/>
        <arg name="use_sim_time" value="$(arg use_sim_time)"/>
        <arg name="headless" value="$(arg headless)"/>
        <arg name="output" value="log"/>
    </include>

    <!-- Case 2: Cluttered workspace -->
    <include file="$(find gazebo_ros)/launch/empty_world.launch" if="$(arg clutter)">
        <arg name="world_name" value="$(find armor)/worlds/niryo_cluttered_workspace.world"/>
        <arg name="debug" value="$(arg debug)"/>
        <arg name="gui" value="$(arg gui)"/>
        <arg name="use_sim_time" value="$(arg use_sim_time)"/>
        <arg name="headless" value="$(arg headless)"/>
        <arg name="output" value="log"/>
    </include>

    <!-- Case 3: Stacked workspace -->
    <include file="$(find gazebo_ros)/launch/empty_world.launch" if="$(arg stacked)">
        <arg name="world_name" value="$(find armor)/worlds/niryo_cluttered_workspace_stacked.world"/>
        <arg name="debug" value="$(arg debug)"/>
        <arg name="gui" value="$(arg gui)"/>
        <arg name="use_sim_time" value="$(arg use_sim_time)"/>
        <arg name="headless" value="$(arg headless)"/>
        <arg name="output" value="log"/>
    </include>

    <!-- Case 4: Occluded workspace -->
    <include file="$(find gazebo_ros)/launch/empty_world.launch" if="$(arg occluded)">
        <arg name="world_name" value="$(find armor)/worlds/niryo_cluttered_workspace_occluded.world"/>
        <arg name="debug" value="$(arg debug)"/>
        <arg name="gui" value="$(arg gui)"/>
        <arg name="use_sim_time" value="$(arg use_sim_time)"/>
        <arg name="headless" value="$(arg headless)"/>
        <arg name="output" value="log"/>
    </include>

    <!-- Case 5: diffObjects workspace -->
    <include file="$(find gazebo_ros)/launch/empty_world.launch" if="$(arg diffObjects)">
        <arg name="world_name" value="$(find armor)/worlds/niryo_cluttered_diffObjects.world"/>
        <arg name="debug" value="$(arg debug)"/>
        <arg name="gui" value="$(arg gui)"/>
        <arg name="use_sim_time" value="$(arg use_sim_time)"/>
        <arg name="headless" value="$(arg headless)"/>
        <arg name="output" value="log"/>
    </include>

    <!-- Spawn URDF in Gazebo -->
    <node name="spawn_urdf" pkg="gazebo_ros" type="spawn_model" respawn="false"
          args="-urdf -model niryo_robot -param robot_description" output="log"/>
</launch>
